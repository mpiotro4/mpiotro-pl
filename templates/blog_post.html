{% extends "base.html" %}

{% block title %}
    {% if lang == 'pl' %}
        {{ post.title_pl }}
    {% else %}
        {{ post.title_en }}
    {% endif %}
    - Marcin Piotrowski
{% endblock %}

{% block content %}
<article class="blog-post">

    <div class="blog-post-header">
        <a href="{{ request.referrer or url_for('blog') }}" class="back-link">
            ← {{ translations['back_to_blog'] }}
        </a>
        <h1>
            {% if lang == 'pl' %}
                {{ post.title_pl }}
            {% else %}
                {{ post.title_en }}
            {% endif %}
        </h1>

        <div class="blog-dates">
            <div class="blog-date-item">
                <i class="fa fa-calendar"></i>
                <span class="date-label">{{ translations['published'] }}:</span>
                <time datetime="{{ post.date }}">{{ post.date_formatted }}</time>
            </div>
            {% if post.updated_formatted %}
            <div class="blog-date-item blog-date-updated">
                <i class="fa fa-pencil"></i>
                <span class="date-label">{{ translations['updated'] }}:</span>
                <time datetime="{{ post.updated }}">{{ post.updated_formatted }}</time>
            </div>
            {% endif %}
            {% if post.author %}
            <div class="blog-date-item blog-author">
                <i class="fa fa-user"></i>
                <span class="date-label">{{ translations['author'] }}:</span>
                <span class="author-name">{{ post.author }}</span>
            </div>
            {% endif %}
            {% if post.tags and post.tags|length > 0 %}
            <div class="blog-date-item blog-tags">
                <i class="fa fa-tags"></i>
                <span class="date-label">{{ translations['tags'] }}:</span>
                <span class="tags-list">
                    {% for tag in post.tags %}
                    <span class="tag">{{ tag }}</span>{% if not loop.last %}, {% endif %}
                    {% endfor %}
                </span>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="blog-post-content">
        {{ post.html_content | safe }}
    </div>

    <div class="blog-post-footer">
        <a href="{{ request.referrer or url_for('blog') }}" class="back-link">
            ← {{ translations['back_to_blog'] }}
        </a>
    </div>

</article>
{% endblock %}
