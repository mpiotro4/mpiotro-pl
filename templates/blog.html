{% extends "base.html" %}

{% block title %}{{ translations['blog'] }} - Marcin Piotrowski{% endblock %}

{% block content %}
<section>
    <h1>{{ translations['blog'] }}</h1>
    <p>{{ translations['my_blog'] }}</p>

    {% if posts %}
    <div class="blog-list">
        {% for post in posts %}
        <article class="blog-card">
            <h2>
                {% if lang == 'pl' %}
                    <a href="/blog/{{ post.slug }}">{{ post.title_pl }}</a>
                {% else %}
                    <a href="/blog/{{ post.slug }}">{{ post.title_en }}</a>
                {% endif %}
            </h2>
            <div class="blog-card-meta">
                <div class="blog-meta-item">
                    <i class="fa fa-calendar"></i>
                    <span class="meta-label">{{ translations['published'] }}:</span>
                    <time datetime="{{ post.date }}">{{ post.date_formatted }}</time>
                </div>
                {% if post.updated_formatted %}
                <div class="blog-meta-item">
                    <i class="fa fa-pencil"></i>
                    <span class="meta-label">{{ translations['updated'] }}:</span>
                    <time datetime="{{ post.updated }}">{{ post.updated_formatted }}</time>
                </div>
                {% endif %}
                {% if post.author %}
                <div class="blog-meta-item">
                    <i class="fa fa-user"></i>
                    <span class="meta-label">{{ translations['author'] }}:</span>
                    <span>{{ post.author }}</span>
                </div>
                {% endif %}
            </div>
            {% if post.tags and post.tags|length > 0 %}
            <div class="blog-card-tags">
                <i class="fa fa-tags"></i>
                {% for tag in post.tags %}
                <span class="tag-small">{{ tag }}</span>
                {% endfor %}
            </div>
            {% endif %}
            <p class="blog-description">
                {% if lang == 'pl' %}
                    {{ post.description_pl }}
                {% else %}
                    {{ post.description_en }}
                {% endif %}
            </p>
            <a href="/blog/{{ post.slug }}" class="read-more-link">
                {{ translations['read_more'] }} â†’
            </a>
        </article>
        {% endfor %}
    </div>
    {% else %}
    <p class="no-posts">{{ translations['no_posts'] }}</p>
    {% endif %}
</section>
{% endblock %}
